defaultSettings: &defaults
  author: <author>
  license: MIT License
  version: ~0.1.1
  projectName: <projectName>
  createdAt: <currentDate>

format: Azure SQL Data Warehouse
templates:
  - name: "Example: create table"
    <<: *defaults
    description: "Create standard staging table"
    templateFileName: Azure SQL Data Warehouse/stage.table.create.njk
    outputFileName: "/Stage/Table/{destSchema}.{destTable}.sql"
    destSchema: stage
    destTable: "{objectName}"
    objectNameMask: <exclusionMaskArray>
    wizardQuestions:
      - Naming Format
      - Select Source Table
      - Select Source Columns
      - Select Source PK Columns
      - Object Name
      - Procedure Name
      - Destination Schema
      - Destination Table
  - name: "3NF: SCD2 upsert procedure"
    <<: *defaults
    description: "3NF SCD Type 2 procedure"
    templateFileName: Azure SQL Data Warehouse/3nf.scd2.proc.njk
    outputFileName: "/3NF/SCD2 procedures/{destSchema}.sp{destTable}.sql"
    destSchema: "asset"
    destTable: "{ObjectName}"
    spSchema: "{destSchema}"
    spName: "sp{ObjectName}"
    objectNameMask: <exclusionMaskArray>
    wizardQuestions:
      - Naming Format
      - Select Source Table
      - Select Source Columns
      - Select Source PK Columns
      - Object Name
      - Destination Schema
      - Destination Table
      - Procedure Name
  - name: "3NF: SCD1 upsert procedure"
    <<: *defaults
    description: "3NF SCD Type 1 procedure"
    templateFileName: Azure SQL Data Warehouse/3nf.scd1.proc.njk
    outputFileName: "/3NF/SCD1 procedures/{destSchema}.sp{destTable}.sql"
    destSchema: "asset"
    destTable: "{ObjectName}"
    spSchema: "{destSchema}"
    spName: "sp{ObjectName}"
    objectNameMask: <exclusionMaskArray>
    wizardQuestions:
      - Naming Format
      - Select Source Table
      - Select Source Columns
      - Select Source PK Columns
      - Object Name
      - Destination Schema
      - Destination Table
      - Procedure Name
  - name: "3NF: stage upsert procedure"
    <<: *defaults
    description: "3NF stage procedure"
    templateFileName: Azure SQL Data Warehouse/3nf.stage.proc.njk
    outputFileName: "/3NF/Stage procedures/{destSchema}.sp{destTable}.sql"
    destSchema: "asset"
    destTable: "{ObjectName}"
    spSchema: "{destSchema}"
    spName: "sp{ObjectName}"
    objectNameMask: <exclusionMaskArray>
    wizardQuestions:
      - Naming Format
      - Select Source Table
      - Select Source Columns
      - Select Source PK Columns
      - Object Name
      - Destination Schema
      - Destination Table
      - Procedure Name
  - name: "Stage: create table"
    <<: *defaults
    description: "Create standard staging table"
    templateFileName: Azure SQL Data Warehouse/stage.table.create.njk
    outputFileName: "/Stage/Table/{destSchema}.{destTable}.sql"
    destSchema: "{destSchema}"
    destTable: "{ObjectName}"
    objectNameMask: <exclusionMaskArray>
    wizardQuestions:
      - Select Source Table
      - Select Source Columns
      - Naming Format
      - Object Name
      - Destination Schema
  - name: "Stage: table insert procedure"
    <<: *defaults
    description: "Standard staging table insert procedure"
    templateFileName: Azure SQL Data Warehouse/stage.table.proc.njk
    outputFileName: "/Stage/TableProc/{destSchema}.{destTable}.sql"
    destSchema: "stage"
    destTable: "{objectName}"
    spSchema: "{destSchema}"
    spName: upd_{objectName}
    objectNameMask: <exclusionMaskArray>
    wizardQuestions:
      - Select Source Table
      - Select Source Columns
      - Select Source PK Columns
      - Object Name
      - Destination Schema
      - Procedure Name
      - Naming Format
  - name: "External: select external table source file"
    <<: *defaults
    description: "Dynamically assign a source blob file"
    templateFileName: Azure SQL Data Warehouse/external.table.select.njk
    outputFileName: /External/SProc/{spSchema}.{spName}.sql
    destSchema: ext
    destTable: "{objectName}"
    spSchema: ext
    spName: select.{objectName}
    objectNameMask: /raw_/g
    wizardQuestions:
      - Select Source Table
      - Select Source Columns
      - Object Name
      - Destination Schema
