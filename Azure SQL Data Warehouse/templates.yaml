defaultSettings: &defaults
  author: <author>
  license: MIT License
  version: ~0.1.1
  projectName: <projectName>
  createdAt: <currentDate>

format: Azure SQL Data Warehouse
templates:
  - name: "Example: create table"
    <<: *defaults
    description: "Create standard staging table"
    templateFileName: Azure SQL Data Warehouse/stage.table.create.njk
    outputFileName: "/Stage/Table/{destSchema}.{destTable}.sql"
    destSchema: stage
    destTable: "{objectName}"
    objectNameMask: <exclusionMaskArray>
    wizardQuestions:
      - Select Source Table
      - Select Source Columns
      - Select Source PK Columns
      - Object Name
      - Procedure Name
      - Select Destination Table
      - Destination Schema
      - Destination Table
      - Select Destination Columns
      - Set Column Name format
  - name: "Stage: create table"
    <<: *defaults
    description: "Create standard staging table"
    templateFileName: Azure SQL Data Warehouse/stage.table.create.njk
    outputFileName: "/Stage/Table/{destSchema}.{destTable}.sql"
    destSchema: "{destSchema}"
    destTable: "{objectName}"
    objectNameMask: <exclusionMaskArray>
    wizardQuestions:
      - Select Source Table
      - Select Source Columns
      - Object Name
      - Destination Schema
      - Set Column Name format
  - name: "Stage: table insert procedure"
    <<: *defaults
    description: "Standard staging table insert procedure"
    templateFileName: Azure SQL Data Warehouse/stage.table.proc.njk
    outputFileName: "/Stage/TableProc/{destSchema}.{destTable}.sql"
    destSchema: "{destSchema}"
    destTable: "{objectName}"
    spSchema: "{destSchema}"
    spName: upd_{objectName}
    objectNameMask: <exclusionMaskArray>
    wizardQuestions:
      - Select Source Table
      - Select Source Columns
      - Select Source PK Columns
      - Object Name
      - Destination Schema
      - Procedure Name
      - Set Column Name format
  - name: "External: select external table source file"
    <<: *defaults
    description: "Dynamically assign a source blob file"
    templateFileName: Azure SQL Data Warehouse/external.table.select.njk
    outputFileName: /External/SProc/{spSchema}.{spName}.sql
    destSchema: ext
    destTable: "{objectName}"
    spSchema: ext
    spName: select.{objectName}
    objectNameMask: /raw_/g
    wizardQuestions:
      - Select Source Table
      - Select Source Columns
      - Object Name
      - Destination Schema
